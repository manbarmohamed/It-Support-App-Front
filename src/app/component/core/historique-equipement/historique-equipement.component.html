<!-- <div class="p-6 max-w-lg mx-auto bg-white shadow-md rounded-lg">
  <h2 class="text-2xl font-bold mb-4 text-gray-800">Historique Equipement</h2>

  <form [formGroup]="equipementForm" class="mb-6">
    <label for="equipementId" class="block text-sm font-medium text-gray-700 mb-2">Select Equipment</label>
    <select id="equipementId" formControlName="equipementId" (change)="getHistorique()" class="block w-full mt-1 p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
      <option value="">Select an equipment</option>
      <option *ngFor="let equip of equipements" [value]="equip.id">
        {{ equip.nome }} (ID: {{ equip.id }})
      </option>
    </select>
  </form>

  <ul *ngIf="historique.length > 0" class="list-disc pl-5 space-y-2">
    <li *ngFor="let item of historique" class="text-gray-700">
      Panne ID: {{ item.panne.nom }}, Equipement ID: {{ item.equipement.nome }}
    </li>
  </ul>

  <p *ngIf="historique.length === 0 && equipementForm.get('equipementId')?.value" class="text-red-500 mt-4">
    No history available for this equipment.
  </p>
</div> -->
<app-navbar></app-navbar>
<app-sidebar></app-sidebar>

<main class="p-4 sm:ml-64 mt-8">
  <div class="p-4 border-2 border-gray-200 rounded-lg bg-white text-gray-900">
    <body class="bg-gray-100 p-8 min-h-screen">
      <div class="container mx-auto">
        <h2 class="text-2xl font-bold mb-6 text-gray-900">User List</h2>
  
        <!-- Add Button -->
        <form [formGroup]="equipementForm" class="mb-6">
          <label for="equipementId" class="block text-sm font-medium text-gray-700 mb-2">Select Equipment</label>
          <select id="equipementId" formControlName="equipementId" (change)="getHistorique()" class="block w-full mt-1 p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
            <option value="">Select an equipment</option>
            <option *ngFor="let equip of equipements" [value]="equip.id">
              {{ equip.nome }} (ID: {{ equip.id }})
            </option>
          </select>
        </form>
  
        <div class="overflow-x-auto shadow-md sm:rounded-lg">
          <table class="min-w-full bg-white text-gray-900 center">
            <thead class="bg-gray-100">
              <tr>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">
                  Panne name
                </th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">
                  Equipement Name
                </th>
              
              </tr>
            </thead>
            <tbody *ngIf="historique.length > 0"class="bg-white divide-y divide-gray-200">
              <tr *ngFor="let item of historique">
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">
                  {{ item.panne.nom }}
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">
                  {{ item.equipement.nome }}
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </body>
  </div>
  </main>
